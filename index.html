<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detektif 100 Level - Tantangan Sulit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e54c8;
            --secondary-color: #8f94fb;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --card-bg: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --choice-bg: #f0f4ff;
            --choice-hover: #e0e8ff;
            --timer-red: #ff4757;
        }

        .dark-mode {
            --primary-color: #6b75cb;
            --secondary-color: #4a4f8c;
            --text-color: #f0f0f0;
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --choice-bg: #2a3b6a;
            --choice-hover: #344878;
            --timer-red: #ff6b81;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            background: linear-gradient(135deg, var(--bg-color) 0%, var(--card-bg) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 20px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        h1 {
            font-size: 2.2rem;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px var(--shadow-color);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .level-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--primary-color);
            background: var(--choice-bg);
            padding: 12px 20px;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .timer-container {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--timer-red);
            font-weight: bold;
        }

        .character-container {
            text-align: center;
            margin: 25px 0;
            perspective: 1000px;
        }

        .character {
            font-size: 6rem;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
            transform-style: preserve-3d;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-10px) rotateY(10deg); }
        }

        .story {
            margin-bottom: 30px;
            font-size: 1.1rem;
            text-align: justify;
            line-height: 1.8;
            background: var(--choice-bg);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid var(--primary-color);
        }

        .clue-container {
            background: var(--choice-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 3px solid var(--secondary-color);
        }

        .clue-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .choices {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .choice-btn {
            padding: 15px;
            background: var(--choice-bg);
            color: var(--text-color);
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .choice-btn:hover {
            background: var(--choice-hover);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .choice-btn i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .progress-container {
            margin: 30px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            width: 1%;
            transition: width 0.5s ease;
        }

        .instructions {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 20px var(--shadow-color);
            border-left: 4px solid var(--secondary-color);
        }

        .instructions h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions ol {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--primary-color);
            color: var(--primary-color);
            font-size: 0.9rem;
        }

        .level-badge {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }

        .result-message {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border-radius: 15px;
            font-weight: bold;
            display: none;
        }

        .success {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .failure {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .hint-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lives-container {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .life {
            color: #ff4757;
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .choices {
                grid-template-columns: 1fr;
            }
            
            .character {
                font-size: 4rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .level-info {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-search"></i> Detektif 100 Level</h1>
            <button class="theme-toggle" id="themeToggle">
                <span>Mode Gelap</span>
                <i class="fas fa-moon"></i>
            </button>
        </header>

        <div class="game-card">
            <div class="level-info">
                <span>Level: <span id="currentLevel">1</span>/100</span>
                <span>Skor: <span id="score">0</span></span>
                <span class="level-badge" id="levelDifficulty">Pemula</span>
                <div class="timer-container">
                    <i class="fas fa-clock"></i>
                    <span id="timer">60</span>s
                </div>
                <div class="lives-container">
                    <span>Nyawa: </span>
                    <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-label">
                    <span>Progress</span>
                    <span id="progressPercentage">1%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="levelProgress"></div>
                </div>
            </div>

            <div class="character-container">
                <div class="character" id="character">ü¶ä</div>
            </div>

            <div class="story" id="story">
                Selamat datang, Detektif! Hari ini kita memiliki kasus hilangnya kue spesial di kafe setempat. 
                Pemilik kafe, rubah licik bernama Felix, melaporkan bahwa kue coklatnya hilang tepat sebelum acara penting. 
                Mari kita selidiki bersama!
            </div>

            <div class="clue-container">
                <div class="clue-header">
                    <i class="fas fa-clue"></i>
                    <span>Petunjuk:</span>
                </div>
                <div id="clue">Felix si Rubah dikenal sebagai pemilik yang sangat teliti. Dia selalu mengunci dapur setelah selesai bekerja.</div>
            </div>

            <div class="choices" id="choices">
                <button class="choice-btn" onclick="makeChoice(0)"><i class="fas fa-comment"></i> Wawancarai Felix si Rubah</button>
                <button class="choice-btn" onclick="makeChoice(1)"><i class="fas fa-utensils"></i> Periksa area dapur</button>
                <button class="choice-btn" onclick="makeChoice(2)"><i class="fas fa-users"></i> Tanyai pelanggan yang hadir</button>
                <button class="choice-btn" onclick="makeChoice(3)"><i class="fas fa-video"></i> Periksa CCTV</button>
            </div>

            <button class="hint-btn" onclick="showHint()">
                <i class="fas fa-lightbulb"></i> Butuh Petunjuk? (-5 poin)
            </button>

            <div id="resultMessage" class="result-message"></div>
        </div>

        <div class="instructions">
            <h2><i class="fas fa-info-circle"></i> Cara Bermain</h2>
            <ol>
                <li>Setiap level menampilkan kasus misteri yang berbeda dengan karakter unik</li>
                <li>Baca cerita dengan seksama dan pilih tindakan yang tepat</li>
                <li>Setiap pilihan akan mempengaruhi perkembangan cerita dan skor Anda</li>
                <li>Anda memiliki waktu terbatas untuk menyelesaikan setiap level</li>
                <li>Setiap level hanya boleh melakukan 3 kesalahan sebelum game over</li>
                <li>Gunakan tombol mode gelap untuk mengubah tampilan sesuai kenyamanan mata Anda</li>
                <li>Tujuan utama: Selesaikan semua 100 level untuk menjadi Detektif Master!</li>
            </ol>
        </div>

        <footer>
            <p>&copy; 2025 Detektif 100 Level - Game Misteri Interaktif</p>
            <p>Temukan petunjuk, pecahkan misteri, dan jadi detektif terbaik!</p>
        </footer>
    </div>

    <script>
        // Data level dan karakter
        const levels = [
            {
                level: 1,
                character: "ü¶ä",
                story: "Selamat datang, Detektif! Hari ini kita memiliki kasus hilangnya kue spesial di kafe setempat. Pemilik kafe, rubah licik bernama Felix, melaporkan bahwa kue coklatnya hilang tepat sebelum acara penting. Mari kita selidiki bersama!",
                clue: "Felix si Rubah dikenal sebagai pemilik yang sangat teliti. Dia selalu mengunci dapur setelah selesai bekerja.",
                choices: [
                    "Wawancarai Felix si Rubah",
                    "Periksa area dapur",
                    "Tanyai pelanggan yang hadir",
                    "Periksa CCTV"
                ],
                correctChoice: 3,
                difficulty: "Pemula",
                time: 60,
                success: "Bagus! Dengan memeriksa CCTV, Anda menemukan bahwa kucing pelayan, Whiskers, terlihat mengambil kue tersebut. Kasus level 1 terselesaikan!",
                failure: "Sayang sekali, pilihan Anda tidak tepat. Coba lagi untuk menyelesaikan kasus level 1.",
                hints: [
                    "CCTV mungkin merekam kejadian yang terjadi",
                    "Felix dikenal jujur dan teliti",
                    "Dapur selalu terkunci setelah jam kerja"
                ]
            },
            {
                level: 2,
                character: "üê±",
                story: "Kasus level 2: Kucing pelayan, Whiskers, terlihat mencurigakan. Dia sering terlihat mondar-mandir di sekitar tempat kue hilang. Mari kita selidiki lebih lanjut!",
                clue: "Whiskers memiliki catatan keuangan yang buruk dan sedang membutuhkan uang.",
                choices: [
                    "Tanyai secara langsung tentang kejadian tersebut",
                    "Periksa locker Whiskers",
                    "Cari saksi yang melihat Whiskers",
                    "Bandingkan sidik jari di area kejadian"
                ],
                correctChoice: 1,
                difficulty: "Pemula",
                time: 55,
                success: "Hebat! Di locker Whiskers, Anda menemukan sisa-sisa kue. Whiskers mengaku telah mengambil kue karena lapar. Kasus level 2 terselesaikan!",
                failure: "Sayang sekali, pilihan Anda tidak tepat. Coba lagi untuk menyelesaikan kasus level 2.",
                hints: [
                    "Whiskers mungkin menyimpan barang bukti di lokernya",
                    "Dia memiliki motif finansial",
                    "Cari bukti fisik bukan hanya kesaksian"
                ]
            },
            {
                level: 3,
                character: "üê∂",
                story: "Kasus level 3: Anjing penjaga, Rover, melaporkan bahwa tulang kesayangannya hilang. Dia curiga ada yang mengambilnya saat dia tertidur. Mari kita bantu Rover!",
                clue: "Rover adalah penjaga yang sangat setia tetapi mudah tertidur setelah makan malam.",
                choices: [
                    "Periksa tempat tidur Rover",
                    "Tanyai hewan-hewan lain di sekitar",
                    "Cari jejak tanah di sekitar rumah",
                    "Periksa kamera pengintai"
                ],
                correctChoice: 2,
                difficulty: "Sedang",
                time: 50,
                success: "Luar biasa! Anda menemukan jejak tanah yang mengarah ke sarang rubah. Ternyata rubah kecil mengambil tulang tersebut. Kasus level 3 terselesaikan!",
                failure: "Sayang sekali, pilihan Anda tidak tepat. Coba lagi untuk menyelesaikan kasus level 3.",
                hints: [
                    "Rubah dikenal suka mengumpulkan barang berkilau dan tulang",
                    "Perhatikan jejak di tanah",
                    "Waktu kejadian adalah setelah makan malam Rover"
                ]
            },
            {
                level: 4,
                character: "ü¶â",
                story: "Kasus level 4: Burung hantu bijak, Oliver, kehilangan kacamatanya. Dia tidak bisa membaca buku-buku tua tanpa kacamata itu. Bantu Oliver menemukan kacamatanya!",
                clue: "Oliver baru saja kembali dari perpustakaan hutan ketika menyadari kacamatanya hilang.",
                choices: [
                    "Periksa kembali tempat biasa Oliver meletakkan kacamata",
                    "Tanyai teman-teman Oliver",
                    "Periksa apakah kacamata terjatuh di bawah pohon",
                    "Cari di perpustakaan kecil Oliver"
                ],
                correctChoice: 3,
                difficulty: "Sedang",
                time: 45,
                success: "Bagus! Anda menemukan kacamata Oliver di perpustakaan kecilnya, tersembunyi di antara buku-buku. Kasus level 4 terselesaikan!",
                failure: "Sayang sekali, pilihan Anda tidak tepat. Coba lagi untuk menyelesaikan kasus level 4.",
                hints: [
                    "Oliver baru saja dari perpustakaan",
                    "Dia sangat teliti dengan barang-barangnya",
                    "Periksa lokasi terakhir dia menggunakan kacamata"
                ]
            },
            {
                level: 5,
                character: "üê≠",
                story: "Kasus level 5: Tikus kecil, Mickey, melaporkan bahwa keju favoritnya hilang dari dapur. Dia yakin ada yang mengambilnya pagi ini. Mari kita selidiki!",
                clue: "Mickey tinggal bersama keluarganya yang besar di balik dinding dapur.",
                choices: [
                    "Periksa jebakan yang mungkin dipasang",
                    "Tanyai kucing rumah",
                    "Cari jejak remah-remah keju",
                    "Periksa tempat persembunyian tikus lain"
                ],
                correctChoice: 2,
                difficulty: "Sulit",
                time: 40,
                success: "Luar biasa! Anda mengikuti jejak remah-remah keju yang mengarah ke sarang tikus lain. Ternyata saudara Mickey meminjam keju tersebut. Kasus level 5 terselesaikan!",
                failure: "Sayang sekali, pilihan Anda tidak tepat. Coba lagi untuk menyelesaikan kasus level 5.",
                hints: [
                    "Keju meninggalkan jejak yang dapat diikuti",
                    "Tikus lain mungkin terlibat",
                    "Perhatikan remah-remah kecil di lantai"
                ]
            }
            // Data untuk 95 level lainnya akan mengikuti pola yang sama
        ];

        // Generate 95 level tambahan dengan kesulitan meningkat
        for (let i = 6; i <= 100; i++) {
            const animals = ['üêµ', 'üêÆ', 'üê∑', 'üê∏', 'üêô', 'ü¶ã', 'ü¶Ñ', 'ü¶Å', 'üê®', 'üê¢', 'ü¶ñ', 'ü¶Ö'];
            const randomAnimal = animals[Math.floor(Math.random() * animals.length)];
            
            let difficulty, timeLimit;
            if (i <= 20) {
                difficulty = "Pemula";
                timeLimit = 60 - i;
            } else if (i <= 50) {
                difficulty = "Sedang";
                timeLimit = 50 - Math.floor(i/2);
            } else if (i <= 80) {
                difficulty = "Sulit";
                timeLimit = 40 - Math.floor(i/3);
            } else {
                difficulty = "Expert";
                timeLimit = 30 - Math.floor(i/4);
            }
            
            // Pastikan waktu tidak kurang dari 10 detik
            timeLimit = Math.max(10, timeLimit);
            
            levels.push({
                level: i,
                character: randomAnimal,
                story: `Level ${i}: Kasus misterius terjadi! ${randomAnimal} membutuhkan bantuan Anda untuk mengungkap kebenaran di balik kejadian aneh yang sedang berlangsung. Setiap petunjuk membawa Anda semakin dekat kepada jawaban.`,
                clue: `Petunjuk tersembunyi di balik perilaku ${randomAnimal}. Perhatikan detail kecil dan jangan abaikan sesuatu yang tampak tidak penting.`,
                choices: [
                    "Selidiki tempat kejadian perkara",
                    "Wawancarai semua saksi yang mungkin",
                    "Periksa bukti forensik dengan cermat",
                    "Gunakan teknologi mutakhir untuk analisis"
                ],
                correctChoice: Math.floor(Math.random() * 4),
                difficulty: difficulty,
                time: timeLimit,
                success: `Hebat! Anda berhasil memecahkan kasus level ${i}. ${randomAnimal} sangat berterima kasih atas bantuan Anda!`,
                failure: `Sayang sekali, Anda belum berhasil memecahkan kasus level ${i}. Coba lagi!`,
                hints: [
                    "Perhatikan detail kecil dalam cerita",
                    "Gunakan petunjuk yang diberikan",
                    "Analisis semua opsi dengan cermat sebelum memilih"
                ]
            });
        }

        let currentLevelIndex = 0;
        let score = 0;
        let lives = 3;
        let timer;
        let timeLeft;
        const maxLevel = levels.length;

        // Elemen DOM
        const currentLevelElement = document.getElementById('currentLevel');
        const scoreElement = document.getElementById('score');
        const levelProgressElement = document.getElementById('levelProgress');
        const progressPercentageElement = document.getElementById('progressPercentage');
        const characterElement = document.getElementById('character');
        const storyElement = document.getElementById('story');
        const clueElement = document.getElementById('clue');
        const choicesElement = document.getElementById('choices');
        const themeToggle = document.getElementById('themeToggle');
        const levelDifficultyElement = document.getElementById('levelDifficulty');
        const resultMessageElement = document.getElementById('resultMessage');
        const timerElement = document.getElementById('timer');
        const livesElement = document.getElementById('lives');

        // Fungsi untuk memuat level
        function loadLevel(levelIndex) {
            if (levelIndex >= maxLevel) {
                // Game selesai
                clearInterval(timer);
                storyElement.textContent = "Selamat! Anda telah menyelesaikan semua 100 level. Anda sekarang adalah Detektif Master! Terima kasih telah bermain!";
                characterElement.textContent = "üèÜ";
                choicesElement.innerHTML = "";
                resultMessageElement.style.display = "none";
                document.querySelector('.clue-container').style.display = "none";
                document.querySelector('.hint-btn').style.display = "none";
                return;
            }

            const level = levels[levelIndex];
            currentLevelElement.textContent = level.level;
            characterElement.textContent = level.character;
            storyElement.textContent = level.story;
            clueElement.textContent = level.clue;
            levelDifficultyElement.textContent = level.difficulty;
            
            // Update progress bar
            const progressPercentage = (level.level / 100) * 100;
            levelProgressElement.style.width = `${progressPercentage}%`;
            progressPercentageElement.textContent = `${progressPercentage}%`;
            
            // Kosongkan pilihan sebelumnya
            choicesElement.innerHTML = "";
            
            // Tambahkan pilihan baru
            level.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                
                // Icon berbeda untuk setiap pilihan
                const icons = ['fa-search', 'fa-user', 'fa-clue', 'fa-microscope'];
                button.innerHTML = `<i class="fas ${icons[index]}"></i> ${choice}`;
                
                button.onclick = () => makeChoice(index);
                choicesElement.appendChild(button);
            });

            // Sembunyikan pesan hasil
            resultMessageElement.style.display = "none";
            
            // Reset dan mulai timer
            clearInterval(timer);
            timeLeft = level.time;
            timerElement.textContent = timeLeft;
            startTimer();
            
            // Update lives display
            updateLivesDisplay();
        }

        // Fungsi untuk memulai timer
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    handleTimeOut();
                }
            }, 1000);
        }

        // Fungsi ketika waktu habis
        function handleTimeOut() {
            lives--;
            updateLivesDisplay();
            
            if (lives <= 0) {
                resultMessageElement.textContent = "Waktu habis! Nyawa Anda juga habis. Game Over!";
                resultMessageElement.className = "result-message failure";
                resultMessageElement.style.display = "block";
                
                setTimeout(() => {
                    resetGame();
                }, 3000);
            } else {
                resultMessageElement.textContent = "Waktu habis! Anda kehilangan satu nyawa.";
                resultMessageElement.className = "result-message failure";
                resultMessageElement.style.display = "block";
                
                setTimeout(() => {
                    loadLevel(currentLevelIndex);
                }, 3000);
            }
        }

        // Fungsi untuk memperbarui tampilan nyawa
        function updateLivesDisplay() {
            let livesText = "";
            for (let i = 0; i < 3; i++) {
                livesText += i < lives ? "‚ù§Ô∏è" : "ü§ç";
            }
            livesElement.textContent = livesText;
        }

        // Fungsi untuk menampilkan petunjuk
        function showHint() {
            if (score >= 5) {
                score -= 5;
                scoreElement.textContent = score;
                
                const currentLevel = levels[currentLevelIndex];
                const randomHint = currentLevel.hints[Math.floor(Math.random() * currentLevel.hints.length)];
                
                alert(`Petunjuk: ${randomHint}`);
            } else {
                alert("Skor Anda tidak cukup untuk mendapatkan petunjuk! Anda membutuhkan setidaknya 5 poin.");
            }
        }

        // Fungsi untuk membuat pilihan
        function makeChoice(choiceIndex) {
            clearInterval(timer);
            
            const currentLevel = levels[currentLevelIndex];
            
            if (choiceIndex === currentLevel.correctChoice) {
                // Jawaban benar
                const timeBonus = Math.floor(timeLeft / 2);
                score += 10 + timeBonus;
                scoreElement.textContent = score;
                
                // Tampilkan pesan sukses
                resultMessageElement.textContent = `${currentLevel.success} Bonus waktu: +${timeBonus} poin!`;
                resultMessageElement.className = "result-message success";
                resultMessageElement.style.display = "block";
                
                // Set timeout untuk pindah ke level berikutnya
                setTimeout(() => {
                    currentLevelIndex++;
                    loadLevel(currentLevelIndex);
                }, 4000);
            } else {
                // Jawaban salah
                score = Math.max(0, score - 5);
                scoreElement.textContent = score;
                lives--;
                updateLivesDisplay();
                
                if (lives <= 0) {
                    // Game over
                    resultMessageElement.textContent = "Pilihan salah! Nyawa Anda habis. Game Over!";
                    resultMessageElement.className = "result-message failure";
                    resultMessageElement.style.display = "block";
                    
                    setTimeout(() => {
                        resetGame();
                    }, 3000);
                } else {
                    // Masih ada nyawa
                    resultMessageElement.textContent = `${currentLevel.failure} Anda kehilangan 1 nyawa.`;
                    resultMessageElement.className = "result-message failure";
                    resultMessageElement.style.display = "block";
                    
                    // Set timeout untuk mencoba lagi
                    setTimeout(() => {
                        loadLevel(currentLevelIndex);
                    }, 3000);
                }
            }
        }

        // Fungsi untuk mereset game
        function resetGame() {
            currentLevelIndex = 0;
            score = 0;
            lives = 3;
            scoreElement.textContent = score;
            loadLevel(currentLevelIndex);
        }

        // Toggle mode gelap/terang
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<span>Mode Terang</span> <i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<span>Mode Gelap</span> <i class="fas fa-moon"></i>';
            }
        });

        // Mulai game
        loadLevel(currentLevelIndex);
    </script>
</body>
</html>
