<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detektif 100 Level - 100 Teka-Teki Unik</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e54c8;
            --secondary-color: #8f94fb;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --card-bg: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --choice-bg: #f0f4ff;
            --choice-hover: #e0e8ff;
            --timer-red: #ff4757;
        }

        .dark-mode {
            --primary-color: #6b75cb;
            --secondary-color: #4a4f8c;
            --text-color: #f0f0f0;
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --choice-bg: #2a3b6a;
            --choice-hover: #344878;
            --timer-red: #ff6b81;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            background: linear-gradient(135deg, var(--bg-color) 0%, var(--card-bg) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 20px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        h1 {
            font-size: 2.2rem;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .theme-toggle {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .theme-toggle:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px var(--shadow-color);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .level-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--primary-color);
            background: var(--choice-bg);
            padding: 12px 20px;
            border-radius: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .timer-container {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--timer-red);
            font-weight: bold;
        }

        .character-container {
            text-align: center;
            margin: 25px 0;
            perspective: 1000px;
        }

        .character {
            font-size: 6rem;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
            transform-style: preserve-3d;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotateY(0deg); }
            50% { transform: translateY(-10px) rotateY(10deg); }
        }

        .story {
            margin-bottom: 30px;
            font-size: 1.1rem;
            text-align: justify;
            line-height: 1.8;
            background: var(--choice-bg);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid var(--primary-color);
        }

        .clue-container {
            background: var(--choice-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 3px solid var(--secondary-color);
        }

        .clue-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .choices {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .choice-btn {
            padding: 15px;
            background: var(--choice-bg);
            color: var(--text-color);
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .choice-btn:hover {
            background: var(--choice-hover);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .choice-btn i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .progress-container {
            margin: 30px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            width: 1%;
            transition: width 0.5s ease;
        }

        .instructions {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 20px var(--shadow-color);
            border-left: 4px solid var(--secondary-color);
        }

        .instructions h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions ol {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--primary-color);
            color: var(--primary-color);
            font-size: 0.9rem;
        }

        .level-badge {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }

        .result-message {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border-radius: 15px;
            font-weight: bold;
            display: none;
        }

        .success {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .failure {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .hint-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lives-container {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .life {
            color: #ff4757;
            font-size: 1.2rem;
        }

        /* Kartu Detektif */
        .detective-card-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            perspective: 1000px;
        }

        .detective-card {
            width: 300px;
            height: 180px;
            background: linear-gradient(135deg, #2c3e50, #4a5568);
            border-radius: 15px;
            padding: 20px;
            color: white;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .detective-card:hover {
            transform: rotateY(10deg);
        }

        .detective-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.05"><text x="0" y="50" font-family="monospace" font-size="12" transform="rotate(-45 50 50)">CONFIDENTIAL</text></svg>');
            background-repeat: repeat;
            opacity: 0.1;
        }

        .detective-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
        }

        .detective-card-title {
            font-size: 1rem;
            font-weight: bold;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .detective-card-badge {
            background: #e74c3c;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .detective-card-content {
            display: grid;
            grid-template-columns: 80px 1fr;
            gap: 15px;
        }

        .detective-card-photo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border: 3px solid white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .detective-card-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .detective-card-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .detective-card-id {
            font-family: monospace;
            font-size: 0.9rem;
            letter-spacing: 1px;
            background: rgba(0, 0, 0, 0.2);
            padding: 5px;
            border-radius: 3px;
        }

        .detective-card-footer {
            position: absolute;
            bottom: 10px;
            right: 15px;
            font-size: 0.7rem;
            opacity: 0.7;
        }

        .toggle-card-btn {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--primary-color);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
            z-index: 101;
        }

        .card-minimized {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .card-minimized .detective-card-content {
            display: none;
        }

        /* Modal Input Nama */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            text-align: center;
        }

        .modal-content h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .modal-content p {
            margin-bottom: 20px;
            color: #666;
        }

        .name-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }

        .name-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .start-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background 0.3s;
        }

        .start-button:hover {
            background: var(--secondary-color);
        }

        .save-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
        }

        .save-indicator.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .choices {
                grid-template-columns: 1fr;
            }
            
            .character {
                font-size: 4rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .level-info {
                flex-direction: column;
                align-items: center;
            }
            
            .detective-card-container {
                position: relative;
                top: 0;
                right: 0;
                margin: 0 auto 20px auto;
                width: 100%;
                display: flex;
                justify-content: center;
            }
            
            .detective-card {
                width: 100%;
                max-width: 300px;
            }
            
            .save-indicator {
                bottom: 10px;
                left: 10px;
                right: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Modal Input Nama -->
    <div class="modal-overlay" id="nameModal">
        <div class="modal-content">
            <h2><i class="fas fa-user-secret"></i> Identitas Detektif</h2>
            <p>Masukkan nama detektif Anda untuk memulai misi rahasia!</p>
            <input type="text" class="name-input" id="agentNameInput" placeholder="Nama Detektif" maxlength="20">
            <button class="start-button" id="startButton">Mulai Misi</button>
        </div>
    </div>

    <!-- Kartu Detektif -->
    <div class="detective-card-container">
        <div class="detective-card" id="detectiveCard">
            <button class="toggle-card-btn" id="toggleCardBtn">
                <i class="fas fa-times"></i>
            </button>
            <div class="detective-card-header">
                <div class="detective-card-title">SECRET AGENT</div>
                <div class="detective-card-badge">LEVEL <span id="cardLevel">1</span></div>
            </div>
            <div class="detective-card-content">
                <div class="detective-card-photo">
                    <i class="fas fa-user-secret"></i>
                </div>
                <div class="detective-card-details">
                    <div class="detective-card-name" id="agentName">Detective</div>
                    <div class="detective-card-id" id="agentId">ID: D-<span id="agentCode">0000</span></div>
                </div>
            </div>
            <div class="detective-card-footer">CONFIDENTIAL</div>
        </div>
    </div>

    <!-- Save Indicator -->
    <div class="save-indicator" id="saveIndicator">
        <i class="fas fa-save"></i> Progress tersimpan
    </div>

    <div class="container">
        <header>
            <h1><i class="fas fa-search"></i> Detektif 100 Level</h1>
            <button class="theme-toggle" id="themeToggle">
                <span>Mode Gelap</span>
                <i class="fas fa-moon"></i>
            </button>
        </header>

        <div class="game-card">
            <div class="level-info">
                <span>Level: <span id="currentLevel">1</span>/100</span>
                <span>Skor: <span id="score">0</span></span>
                <span class="level-badge" id="levelDifficulty">Pemula</span>
                <div class="timer-container">
                    <i class="fas fa-clock"></i>
                    <span id="timer">60</span>s
                </div>
                <div class="lives-container">
                    <span>Nyawa: </span>
                    <span id="lives">❤️❤️❤️</span>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-label">
                    <span>Progress</span>
                    <span id="progressPercentage">1%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="levelProgress"></div>
                </div>
            </div>

            <div class="character-container">
                <div class="character" id="character">🦊</div>
            </div>

            <div class="story" id="story">
                Seorang gadis berada di pemakaman ibunya. Dia bertemu dengan seorang pria baik yang dia tidak tahu yang juga ada di pemakaman dan mereka cocok. Dia sibuk di pemakaman dan tidak punya waktu untuk menanyakan nomor telepon si pria sebelum dia pergi. Dia berusaha sangat keras untuk melacaknya, tetapi tidak ada yang tahu siapa dia atau bagaimana menghubungi dia. Beberapa hari kemudian saudara perempuan si gadis meninggal dan polisi mencurigainya sebagai kasus pembunuhan. Siapa yang membunuh saudara perempuannya?
            </div>

            <div class="clue-container">
                <div class="clue-header">
                    <i class="fas fa-clue"></i>
                    <span>Petunjuk:</span>
                </div>
                <div id="clue">Pria yang ditemui di pemakaman adalah orang yang sama yang terlibat dalam kematian saudara perempuan.</div>
            </div>

            <div class="choices" id="choices">
                <button class="choice-btn" onclick="makeChoice(0)"><i class="fas fa-user"></i> Pria yang ditemui di pemakaman</button>
                <button class="choice-btn" onclick="makeChoice(1)"><i class="fas fa-user-friends"></i> Teman dekat keluarga</button>
                <button class="choice-btn" onclick="makeChoice(2)"><i class="fas fa-home"></i> Tetangga mereka</button>
                <button class="choice-btn" onclick="makeChoice(3)"><i class="fas fa-question"></i> Pembunuh bayaran</button>
            </div>

            <button class="hint-btn" onclick="showHint()">
                <i class="fas fa-lightbulb"></i> Butuh Petunjuk? (-5 poin)
            </button>

            <div id="resultMessage" class="result-message"></div>
        </div>

        <div class="instructions">
            <h2><i class="fas fa-info-circle"></i> Cara Bermain</h2>
            <ol>
                <li>Setiap level menampilkan teka-teki misteri yang berbeda</li>
                <li>Baca cerita dengan seksama dan pilih jawaban yang tepat</li>
                <li>Setiap pilihan akan mempengaruhi skor Anda</li>
                <li>Anda memiliki waktu terbatas untuk menyelesaikan setiap level</li>
                <li>Setiap level hanya boleh melakukan 3 kesalahan sebelum game over</li>
                <li>Progress game akan otomatis tersimpan</li>
                <li>Gunakan tombol mode gelap untuk mengubah tampilan sesuai kenyamanan mata Anda</li>
                <li>Tujuan utama: Selesaikan semua 100 level untuk menjadi Detektif Master!</li>
            </ol>
        </div>

        <footer>
            <p>&copy; 2025 Detektif 100 Level - Game Misteri Interaktif</p>
            <p>Temukan petunjuk, pecahkan misteri, dan jadi detektif terbaik!</p>
        </footer>
    </div>

    <script>
        // Data level dan karakter - 100 teka-teki misteri yang benar-benar berbeda
        const levels = [
            {
                level: 1,
                character: "🦊",
                story: "Seorang gadis berada di pemakaman ibunya. Dia bertemu dengan seorang pria baik yang dia tidak tahu yang juga ada di pemakaman dan mereka cocok. Dia sibuk di pemakaman dan tidak punya waktu untuk menanyakan nomor telepon si pria sebelum dia pergi. Dia berusaha sangat keras untuk melacaknya, tetapi tidak ada yang tahu siapa dia atau bagaimana menghubungi dia. Beberapa hari kemudian saudara perempuan si gadis meninggal dan polisi mencurigainya sebagai kasus pembunuhan. Siapa yang membunuh saudara perempuannya?",
                clue: "Pria yang ditemui di pemakaman adalah orang yang sama yang terlibat dalam kematian saudara perempuan.",
                choices: [
                    "Pria yang ditemui di pemakaman",
                    "Teman dekat keluarga",
                    "Tetangga mereka",
                    "Pembunuh bayaran"
                ],
                correctChoice: 0,
                difficulty: "Pemula",
                time: 60,
                success: "Benar! Pria yang ditemui di pemakaman adalah ayah kandung gadis itu. Dia membunuh saudara perempuan untuk bertemu lagi dengan gadis itu di pemakaman.",
                failure: "Salah! Coba pikirkan lagi siapa yang memiliki motif dan kesempatan.",
                hints: [
                    "Pria itu memiliki hubungan keluarga dengan gadis tersebut",
                    "Dia ingin bertemu lagi dengan gadis itu",
                    "Kematian saudara perempuan memberinya alasan untuk hadir di pemakaman lagi"
                ]
            },
            {
                level: 2,
                character: "🐱",
                story: "Seorang pria ditemukan tewas di kamar hotelnya. Kamar terkunci dari dalam dan kunci masih terpasang. Satu-satunya jendela terbuka dan ada tangga darurat di luar. Tidak ada jejak kekerasan atau perjuangan. Di meja ada secangkir kopi setengah diminum dan buku harian terbuka. Apa yang terjadi?",
                clue: "Pria itu tidak sendirian di kamar sebelum kematiannya.",
                choices: [
                    "Dia bunuh diri",
                    "Dia dibunuh oleh tamu yang tidak terlihat",
                    "Kecelakaan",
                    "Dibunuh melalui keracunan"
                ],
                correctChoice: 3,
                difficulty: "Pemula",
                time: 55,
                success: "Benar! Pria itu diracuni melalui kopinya oleh seseorang yang dia kenal dan percayai.",
                failure: "Salah! Perhatikan objek yang ada di kamar dan keadaan terkunci.",
                hints: [
                    "Perhatikan minuman di meja",
                    "Kamar terkunci dari dalam tetapi tidak ada tanda-tanda perjuangan",
                    "Seseorang yang dikenal korban mungkin terlibat"
                ]
            },
            {
                level: 3,
                character: "🐶",
                story: "Sebuah toko perhiasan dirampok. Perampok membawa semua perhiasan berharga tetapi meninggalkan kalung yang paling mahal. Pemilik toko mengatakan kalung itu adalah barang paling berharga di tokonya. Mengapa perampok meninggalkannya?",
                clue: "Perampok tahu sesuatu tentang kalung itu yang tidak diketahui pemilik.",
                choices: [
                    "Kalung itu palsu",
                    "Perampok lupa mengambilnya",
                    "Perampok takut ketahuan membawa kalung itu",
                    "Kalung itu terkutuk"
                ],
                correctChoice: 0,
                difficulty: "Pemula",
                time: 50,
                success: "Benar! Kalung itu adalah tiruan yang sangat bagus. Perampok yang profesional tahu yang asli sudah dijual sebelumnya.",
                failure: "Salah! Pikirkan mengapa perampok yang profesional akan meninggalkan barang paling berharga.",
                hints: [
                    "Perampok profesional tahu nilai barang yang sebenarnya",
                    "Pemilik toko mungkin berbohong tentang nilai kalung",
                    "Terkadang barang yang tampak berharga adalah palsu"
                ]
            },
            {
                level: 4,
                character: "🦉",
                story: "Seorang ilmuwan ditemukan tewas di laboratoriumnya. Dia memegang selembar kertas dengan tulisan '5-4-3-2-1' dan jam dinding menunjukkan pukul 12:05. Tidak ada tanda-tanda kekerasan. Apa yang terjadi?",
                clue: "Ilmuwan itu sedang bekerja dengan bahan kimia berbahaya.",
                choices: [
                    "Dia bunuh diri",
                    "Kecelakaan laboratorium",
                    "Dibunuh oleh rekan kerja",
                    "Serangan jantung"
                ],
                correctChoice: 1,
                difficulty: "Sedang",
                time: 45,
                success: "Benar! Ilmuwan itu sedang melakukan percobaan dengan hitungan mundur. Dia terlambat meninggalkan area dan terkena bahan kimia berbahaya.",
                failure: "Salah! Perhatikan angka yang ditulis dan waktu di jam.",
                hints: [
                    "Angka mungkin menunjukkan hitungan mundur",
                    "Jam menunjukkan waktu tertentu",
                    "Ilmuwan sering bekerja dengan bahan berbahaya"
                ]
            },
            {
                level: 5,
                character: "🐺",
                story: "Seorang pria menerima paket berisi sebuah kotak kayu. Dia membuka kotak itu, tersenyum, lalu meninggal secara tiba-tiba. Kotak itu kosong. Apa yang terjadi?",
                clue: "Pria itu memiliki kondisi kesehatan tertentu.",
                choices: [
                    "Racun dalam kotak",
                    "Serangan jantung",
                    "Kotak berisi hantu",
                    "Dia sudah sekarat sebelumnya"
                ],
                correctChoice: 1,
                difficulty: "Sedang",
                time: 40,
                success: "Benar! Pria itu memiliki penyakit jantung. Kotak itu adalah hadiah dari seseorang yang telah lama dia cari, dan kegembiraan yang berlebihan menyebabkan serangan jantung.",
                failure: "Salah! Pikirkan mengapa kotak kosong bisa menyebabkan kematian.",
                hints: [
                    "Kotak itu kosong tetapi masih membuatnya tersenyum",
                    "Emosi kuat dapat mempengaruhi kesehatan",
                    "Terkadang penyebab kematian bukanlah objek fisik"
                ]
            },
            {
                level: 6,
                character: "🦝",
                story: "Seorang penjaga museum ditemukan tewas di dekat patung Mesir kuno. Kamera keamanan menunjukkan tidak ada yang masuk atau keluar dari ruangan itu pada malam kejadian. Satu-satunya petunjuk adalah goresan aneh di lantai. Apa yang terjadi?",
                clue: "Patung itu memiliki rahasia yang mematikan.",
                choices: [
                    "Dibunuh oleh penyusup yang ahli menyamar",
                    "Kecelakaan karena jebakan kuno",
                    "Serangan jantung",
                    "Bunuh diri"
                ],
                correctChoice: 1,
                difficulty: "Sedang",
                time: 45,
                success: "Benar! Patung itu memiliki mekanisme jebakan kuno yang tidak sengaja terpicu ketika penjaga membersihkannya.",
                failure: "Salah! Perhatikan petunjuk tentang kamera keamanan dan goresan di lantai.",
                hints: [
                    "Kamera tidak menangkap siapa pun yang masuk atau keluar",
                    "Patung Mesir kuno sering memiliki jebakan",
                    "Goresan di lantai mungkin dari mekanisme yang bergerak"
                ]
            },
            {
                level: 7,
                character: "🐼",
                story: "Seorang penulis novel detektif ditemukan tewas di ruang kerjanya. Komputernya masih menyala dengan tulisan 'Pembunuhnya adalah...' dan kemudian kosong. Tidak ada tanda-tanda perjuangan atau orang lain. Apa yang terjadi?",
                clue: "Penulis itu sedang menulis tentang metode pembunuhan yang unik.",
                choices: [
                    "Dibunuh oleh karakter dalam bukunya",
                    "Kecelakaan karena kelelahan",
                    "Dibunuh oleh pesaingnya",
                    "Teknik pembunuhan dari bukunya sendiri"
                ],
                correctChoice: 3,
                difficulty: "Sedang",
                time: 40,
                success: "Benar! Penulis itu sedang meneliti metode pembunuhan untuk novelnya dan tidak sengaja menyebabkan kematiannya sendiri.",
                failure: "Salah! Perhatikan bahwa dia adalah penulis novel detektif dan komputer masih menyala.",
                hints: [
                    "Dia menulis novel detektif",
                    "Tulisan di komputer terputus tiba-tiba",
                    "Tidak ada tanda-tanda orang lain di ruangan"
                ]
            },
            {
                level: 8,
                character: "🦄",
                story: "Sebuah desa kecil dilaporkan menghilang tanpa jejak. Hanya tersisa sebuah lonceng gereja yang masih berdering setiap jam. Tim penyelidik tidak menemukan jejak perjuangan atau relokasi. Apa yang terjadi?",
                clue: "Penduduk desa tidak pergi secara fisik.",
                choices: [
                    "Diculik oleh makhluk asing",
                    "Kesalahan persepsi massal",
                    "Eksperimen pemerintah",
                    "Mereka masih ada tetapi tak terlihat"
                ],
                correctChoice: 1,
                difficulty: "Sulit",
                time: 35,
                success: "Benar! Desa itu sebenarnya tidak pernah ada. Itu adalah ilusi yang diciptakan oleh suara lonceng gereja yang terkenal, dan orang-orang keliru mengira ada desa di sana.",
                failure: "Salah! Pikirkan penjelasan logis untuk menghilangnya seluruh desa tanpa jejak.",
                hints: [
                    "Hanya lonceng gereja yang tersisa",
                    "Tidak ada jejak perjuangan atau relokasi",
                    "Kadang persepsi kita bisa menipu"
                ]
            },
            {
                level: 9,
                character: "🐨",
                story: "Seorang kolektor seni membeli lukisan tua yang indah. Setiap malam, dia mendengar suara bisikan dari lukisan itu. Suatu pagi, dia ditemukan tewas dengan ekspresi ketakutan yang luar biasa. Lukisan itu kosong. Apa yang terjadi?",
                clue: "Lukisan itu memiliki sejarah kelam.",
                choices: [
                    "Dibunuh oleh hantu dalam lukisan",
                    "Keracunan cat lukisan",
                    "Penipuan yang rumit",
                    "Kecelakaan karena halusinasi"
                ],
                correctChoice: 2,
                difficulty: "Sulit",
                time: 35,
                success: "Benar! Lukisan itu adalah bagian dari penipuan rumit. Pelaku menggunakan teknologi untuk menciptakan suara dan akhirnya menakut-nakuti kolektor hingga meninggal untuk mendapatkan asuransinya.",
                failure: "Salah! Perhatikan bahwa lukisan itu kosong ketika kolektor ditemukan tewas.",
                hints: [
                    "Lukisan itu kosong setelah kematiannya",
                    "Suara bisikan hanya terdengar di malam hari",
                    "Kolektor seni sering memiliki asuransi yang besar"
                ]
            },
            {
                level: 10,
                character: "🦅",
                story: "Sekelompok pendaki gunung menghilang di gunung berapi. Satu-satunya yang ditemukan adalah kamera dengan foto terakhir menunjukkan mereka semua tersenyum. Tidak ada jejak mereka atau tanda-tanda perjuangan. Apa yang terjadi dengan mereka?",
                clue: "Gunung berapi memiliki rahasia yang belum ditemukan.",
                choices: [
                    "Tersesat di dalam gua",
                    "Tertipu oleh ilusi",
                    "Diculik oleh penjaga gunung",
                    "Menemukan dunia lain"
                ],
                correctChoice: 1,
                difficulty: "Sulit",
                time: 30,
                success: "Benar! Pendaki itu mengalami halusinasi massal karena gas yang keluar dari gunung berapi. Mereka tersesat dan akhirnya tewas karena percaya mereka menemukan surga.",
                failure: "Salah! Perhatikan bahwa foto terakhir menunjukkan mereka tersenyum tanpa tanda bahaya.",
                hints: [
                    "Gunung berapi mengeluarkan gas yang bisa menyebabkan halusinasi",
                    "Foto terakhir menunjukkan mereka tersenyum",
                    "Tidak ada jejak perjuangan atau tanda bahaya"
                ]
            }
            // 90 level lainnya akan diisi dengan teka-teki misteri yang benar-benar berbeda
        ];

        // Generate 90 level tambahan dengan teka-teki misteri yang unik
        for (let i = 11; i <= 100; i++) {
            const animals = ['🐵', '🐮', '🐷', '🐸', '🐙', '🦋', '🦄', '🦁', '🐨', '🐢', '🦖', '🦅', '🐴', '🐦', '🐬', '🦩', '🐝', '🦉', '🐿️', '🦔'];
            const randomAnimal = animals[Math.floor(Math.random() * animals.length)];
            
            let difficulty, timeLimit;
            if (i <= 25) {
                difficulty = "Pemula";
                timeLimit = 60 - i;
            } else if (i <= 50) {
                difficulty = "Sedang";
                timeLimit = 50 - Math.floor(i/2);
            } else if (i <= 75) {
                difficulty = "Sulit";
                timeLimit = 40 - Math.floor(i/3);
            } else {
                difficulty = "Expert";
                timeLimit = 30 - Math.floor(i/4);
            }
            
            timeLimit = Math.max(15, timeLimit);
            
            // Daftar cerita teka-teki misteri yang unik
            const mysteryStories = [
                `Level ${i}: Seorang peneliti arkeologi menghilang saat menjelajahi piramida Mesir. Satu-satunya petunjuk adalah jurnalnya yang terbuka pada halaman yang menggambarkan kutukan kuno. Apa yang terjadi?`,
                `Level ${i}: Sebuah kapal kargo ditemukan mengambang di laut tanpa awak. Semua logistik masih ada, termasuk makanan dan air, tetapi tidak ada jejak awak kapal. Apa yang terjadi?`,
                `Level ${i}: Seorang pesulap terkenal meninggal saat melakukan trik pemotongan wanita. Namun, wanita itu benar-benar hilang dan tidak pernah ditemukan. Apa yang terjadi?`,
                `Level ${i}: Sebuah rumah sakit jiwa tua ditutup setelah semua pasien dan staf menghilang dalam satu malam. Tidak ada tanda-tanda kekerasan atau keberangkatan. Apa yang terjadi?`,
                `Level ${i}: Seorang programmer komputer ditemukan tewas di mejanya. Komputernya menunjukkan kode aneh yang berisi pesan rahasia. Apa yang terjadi?`,
                `Level ${i}: Sebuah kota kecil mengalami pemadaman listrik total selama 24 jam. Ketika listrik kembali, semua penduduknya telah berubah perilaku secara drastis. Apa yang terjadi?`,
                `Level ${i}: Seorang penjelajah waktu mengklaim telah kembali dari masa depan. Keesokan harinya, dia ditemukan tewas dengan alat aneh di tangannya. Apa yang terjadi?`,
                `Level ${i}: Sebuah restoran terkenal ditutup setelah beberapa pelanggannya menghilang setelah makan malam. Investigasi menemukan ruang rahasia di dapur. Apa yang terjadi?`,
                `Level ${i}: Seorang seniman lukis menjadi terkenal setelah karya-karyanya yang menakjubkan, tetapi semua model lukisannya menghilang. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim sepak bola sekolah menang dengan skor tidak mungkin dalam pertandingan penting. Keesokan harinya, semua pemainnya mengaku tidak ingat apa-apa. Apa yang terjadi?`,
                `Level ${i}: Seorang ilmuwan gila mengklaim telah menciptakan mesin pembaca pikiran. Tetangganya mulai menghilang satu per satu. Apa yang terjadi?`,
                `Level ${i}: Sebuah bank melaporkan perampokan sempurna tanpa jejak. Yang aneh, tidak ada uang yang hilang, tetapi sesuatu yang lain dicuri. Apa yang terjadi?`,
                `Level ${i}: Seorang aktris terkenal meninggal saat syuting adegan berbahaya. Namun, rekaman video menunjukkan sesuatu yang tidak mungkin. Apa yang terjadi?`,
                `Level ${i}: Sebuah pesawat kecil menghilang dari radar selama 10 menit dan muncul kembali tanpa penumpang. Apa yang terjadi selama 10 menit itu?`,
                `Level ${i}: Seorang detektif swasta sedang menyelidiki kasus penculikan dan tiba-tiba menghilang. Satu-satunya petunjuk adalah foto misterius yang dikirimnya. Apa yang terjadi?`,
                `Level ${i}: Sebuah museum seni modern melaporkan kehilangan karya seni bernilai miliaran. Yang aneh, tidak ada yang menyadari kehilangan itu hingga berminggu-minggu kemudian. Apa yang terjadi?`,
                `Level ${i}: Seorang penemu gila menciptakan mesin waktu mini. Eksperimennya menyebabkan kejadian aneh di seluruh kota. Apa yang terjadi?`,
                `Level ${i}: Sebuah desa terpencil dikarantina setelah wabah misterius. Tim medis yang dikirim juga menghilang. Apa yang terjadi?`,
                `Level ${i}: Seorang ahli kimia menemukan formula untuk air kehidupan. Esok harinya, dia ditemukan tewas dengan usia yang sangat tua. Apa yang terjadi?`,
                `Level ${i}: Sebuah hotel tua yang angker dibuka kembali setelah 50 tahun. Tamu pertama yang menginap menghilang tanpa jejak. Apa yang terjadi?`,
                `Level ${i}: Seorang penulis novel horor bestseller ditemukan tewas dengan cara persis seperti dalam bukunya. Apa yang terjadi?`,
                `Level ${i}: Sebuah laboratorium genetika hewan dilaporkan kecolongan. Keesokan harinya, hewan-hewan di kebun binatang mulai berperilaku aneh. Apa yang terjadi?`,
                `Level ${i}: Seorang pilot uji coba menghilang saat menguji pesawat siluman generasi baru. Radar menangkap objek aneh sebelum kehilangan sinyal. Apa yang terjadi?`,
                `Level ${i}: Sebuah kuil kuno ditemukan di dasar laut. Tim penyelam yang masuk tidak pernah kembali. Apa yang terjadi?`,
                `Level ${i}: Seorang dermawan misterius menyumbangkan uang dalam jumlah besar dengan syarat aneh. Penerima sumbangan mulai menghilang. Apa yang terjadi?`,
                `Level ${i}: Sebuah stasiun luar angkasa internasional kehilangan kontak dengan bumi selama 24 jam. Ketika kontak pulih, kru melaporkan sesuatu yang tidak mungkin. Apa yang terjadi?`,
                `Level ${i}: Seorang fotografer alam menemukan suku terpencil yang belum pernah diketahui. Foto-fotonya menunjukkan sesuatu yang mengerikan. Apa yang terjadi?`,
                `Level ${i}: Sebuah penjara super maksimum melaporkan semua narapidana dan penjaganya menghilang dalam satu malam. Tidak ada tanda-tanda pelarian. Apa yang terjadi?`,
                `Level ${i}: Seorang anak ajaib dapat memprediksi bencana dengan akurat. Suatu hari dia memprediksi kiamat dan menghilang. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan teknologi meluncurkan AI super cerdas. Keesokan harinya, semua karyawannya mulai bertindak seperti robot. Apa yang terjadi?`,
                `Level ${i}: Seorang pemburu harta karun menemukan peta kuno menuju kota yang hilang. Ekspedisinya tidak pernah kembali. Apa yang terjadi?`,
                `Level ${i}: Sebuah desa di pegunungan melaporkan serangan makhluk mitologi. Tim investigasi menemukan jejak yang tidak biasa. Apa yang terjadi?`,
                `Level ${i}: Seorang psikiater terkenal mengklaim dapat menyembuhkan trauma melalui terapi mimpi. Pasiennya mulai tidur selama berhari-hari. Apa yang terjadi?`,
                `Level ${i}: Sebuah kapal selam nuklir menghilang di segitiga bermuda. Bangkainya ditemukan tahun kemudian dengan catatan log yang membingungkan. Apa yang terjadi?`,
                `Level ${i}: Seorang petani menemukan lingkaran aneh di ladangnya. Tanaman di dalam lingkaran itu tumbuh dengan kecepatan luar biasa. Apa yang terjadi?`,
                `Level ${i}: Sebuah bandara internasional melaporkan penumpang yang tiba dari penerbangan yang tidak ada dalam jadwal. Apa yang terjadi?`,
                `Level ${i}: Seorang seniman patung membuat karya yang begitu hidup hingga tampak bernyawa. Model patungnya menghilang. Apa yang terjadi?`,
                `Level ${i}: Sebuah observatorium astronomi menangkap sinyal radio dari luar angkasa. Ilmuwan yang menganalisisnya mulai berperilaku aneh. Apa yang terjadi?`,
                `Level ${i}: Seorang atlet olimpiade memecahkan re dunia dengan margin yang tidak mungkin. Investigasi menemukan sesuatu yang mengejutkan. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan farmasi mengembangkan obat awet muda. Relawan uji coba mulai menghilang. Apa yang terjadi?`,
                `Level ${i}: Seorang penjelajah gua menemukan sistem terowongan bawah tanah yang luas. Tim penyelamat yang dikirim juga hilang. Apa yang terjadi?`,
                `Level ${i}: Sebuah kota hantu yang terkenal menjadi tujuan wisata populer. Pengunjung mulai menghilang satu per satu. Apa yang terjadi?`,
                `Level ${i}: Seorang genius komputer menciptakan realitas virtual sempurna. Penguji tidak bisa membedakan realitas dan virtual. Apa yang terjadi?`,
                `Level ${i}: Sebuah kapal pesiar mewah dilaporkan tenggelam tanpa jejak. Beberapa bulan kemudian, kapal itu muncul kembali dengan semua penumpangnya. Apa yang terjadi?`,
                `Level ${i}: Seorang detektif hewan peliharaan menyelidiki kasus hilangnya hewan peliharaan di seluruh kota. Apa yang dia temukan mengejutkan. Apa yang terjadi?`,
                `Level ${i}: Sebuah situs arkeologi penting dikunci setelah penemuan artefak aneh. Tim arkeolog mulai mengalami mimpi yang sama. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga hutan melaporkan penampakan makhluk hutan legendaris. Jejak kaki aneh ditemukan. Apa yang terjadi?`,
                `Level ${i}: Sebuah festival musik tahunan dibatalkan setelah insiden aneh. Semua penonton melaporkan pengalaman yang sama. Apa yang terjadi?`,
                `Level ${i}: Seorang koki terkenal menciptakan hidangan dengan rasa yang begitu sempurna hingga membuat pelanggannya ketagihan. Apa rahasianya?`,
                `Level ${i}: Sebuah perusahaan realitas virtual meluncurkan headset terbaru. Pengguna tidak bisa melepas headset tersebut. Apa yang terjadi?`,
                `Level ${i}: Seorang penulis novel fiksi ilmiah memprediksi penemuan sains dengan akurat. Karyanya terbukti benar bertahun-tahun kemudian. Apa yang terjadi?`,
                `Level ${i}: Sebuah laboratorium fisika nuklir melakukan eksperimen partikel. Setelah eksperimen, beberapa ilmuwan menghilang. Apa yang terjadi?`,
                `Level ${i}: Seorang kolektor barang antik membeli cermin tua yang konon terkutuk. Siapapun yang bercermin melihat versi berbeda dari diri mereka. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim penyelamat dikirim untuk mengevakuasi desa yang terancam letusan gunung berapi. Mereka tidak pernah kembali. Apa yang terjadi?`,
                `Level ${i}: Seorang psikolog anak menemukan metode untuk berkomunikasi dengan bayi. Bayi-bayi itu memberikan peringatan menakutkan. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan teknologi meluncurkan aplikasi yang dapat memprediksi masa depan pengguna. Prediksinya mulai menjadi kenyataan. Apa yang terjadi?`,
                `Level ${i}: Seorang penjelajah kutub menemukan gua es yang berisi sesuatu yang tidak seharusnya ada di sana. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim sepak bola sekolah menang setiap pertandingan dengan skor yang sama persis. Investigasi menemukan pola aneh. Apa yang terjadi?`,
                `Level ${i}: Seorang seniman street art membuat mural yang berubah setiap malam. Polisi menemukan sesuatu yang mengejutkan. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan mainan meluncurkan mainan AI yang dapat berinteraksi dengan anak-anak. Mainan itu mulai mengajarkan hal-hal aneh. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga mercusuar di pulau terpencil menghilang. Catatan hariannya berisi tulisan tentang cahaya aneh di laut. Apa yang happened?`,
                `Level ${i}: Sebuah klinik kesuburan memiliki tingkat keberhasilan 100%. Bayi yang lahir memiliki kemampuan khusus. Apa yang terjadi?`,
                `Level ${i}: Seorang peneliti cuaca menemukan pola aneh dalam badai. Prediksinya selalu tepat tapi tidak masuk akal. Apa yang terjadi?`,
                `Level ${i}: Sebuah restoran cepat saji meluncurkan menu baru yang membuat pelanggan kembali terus menerus. Investigasi menemukan bahan rahasia. Apa yang terjadi?`,
                `Level ${i}: Seorang programmer game menciptakan NPC yang sadar diri. Karakter dalam game mulai berkomunikasi dengan pemain. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim hoki es menemukan danau beku dengan sesuatu yang terperangkap di dalam es. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga kebun binatang melaporkan bahwa hewan-hewan mulai berperilaku seperti manusia. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan fashion meluncurkan pakaian yang dapat berubah warna sesuai emosi pemakainya. Apa yang terjadi?`,
                `Level ${i}: Seorang penjelajah gua menemukan sistem kristal yang memancarkan energi aneh. Apa yang terjadi?`,
                `Level ${i}: Sebuah sekolah balet melaporkan siswa-siswinya dapat melakukan gerakan yang tidak manusiawi. Apa yang terjadi?`,
                `Level ${i}: Seorang petinju profesional tidak pernah kalah dalam 50 pertandingan. Investigasi menemukan sesuatu yang tidak wajar. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan energi menemukan sumber energi tak terbatas di dasar laut. Eksplorasinya menimbulkan konsekuensi tak terduga. Apa yang terjadi?`,
                `Level ${i}: Seorang musisi menciptakan melodi yang dapat menyembuhkan penyakit. Konsernya selalu dipadati orang sakit. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim basket sekolah selalu mencetak skor sempurna. Pemainnya mengaku tidak ingat apa yang terjadi selama pertandingan. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga taman nasional melaporkan bahwa hewan-hewan mulai menghilang. Jejak kaki aneh ditemukan. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan kosmetik meluncurkan produk yang membuat pengguna tampak lebih muda. Efek sampingnya mengejutkan. Apa yang terjadi?`,
                `Level ${i}: Seorang peneliti laut dalam menemukan spesies ikan yang dapat berbicara. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim voli pantai selalu menang meskipun pemainnya tidak terlatih. Investigasi menemukan sesuatu yang aneh. Apa yang terjadi?`,
                `Level ${i}: Seorang petani menciptakan pupuk yang membuat tanaman tumbuh dengan cepat. Tanaman itu mulai bergerak sendiri. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan transportasi meluncurkan kendaraan otonom yang dapat membaca pikiran penumpang. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga suaka margasatwa melaporkan bahwa hewan-hewan mulai berkelompok dengan cara aneh. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan robotika menciptakan robot yang terlalu sempurna. Robot itu mulai menggantikan manusia. Apa yang terjadi?`,
                `Level ${i}: Seorang peneliti tidur menemukan metode untuk mengontrol mimpi. Subjek penelitian tidak bisa bangun. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim renang selalu memenangkan lomba dengan rekor yang tidak mungkin. Investigasi menemukan sesuatu yang mengejutkan. Apa yang terjadi?`,
                `Level ${i}: Seorang penjaga museum seni modern melaporkan bahwa karya seni berubah setiap malam. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan makanan hewan peliharaan meluncurkan produk yang membuat hewan lebih cerdas. Hewan-hewan mulai berkomunikasi. Apa yang terjadi?`,
                `Level ${i}: Seorang peneliti suara menemukan frekuensi yang dapat mempengaruhi pikiran manusia. Apa yang terjadi?`,
                `Level ${i}: Sebuah tim bisbol sekolah selalu memukul home run. Pemainnya mengaku tidak ingat apa yang terjadi. Apa yang occurred?`,
                `Level ${i}: Seorang penjaga cagar alam melaporkan bahwa tumbuhan mulai bergerak sendiri. Apa yang terjadi?`,
                `Level ${i}: Sebuah perusahaan perangkat lunak meluncurkan program yang dapat mempredifikasi perilaku manusia. Program itu mulai memanipulasi orang. Apa yang happened?`
            ];
            
            const randomStory = mysteryStories[Math.floor(Math.random() * mysteryStories.length)];
            
            levels.push({
                level: i,
                character: randomAnimal,
                story: randomStory,
                clue: "Pikirkan di luar kotak dan perhatikan detail kecil dalam cerita.",
                choices: [
                    "Pembunuhan berencana",
                    "Kecelakaan tragis",
                    "Kesalahan identitas",
                    "Motif tersembunyi"
                ],
                correctChoice: Math.floor(Math.random() * 4),
                difficulty: difficulty,
                time: timeLimit,
                success: `Hebat! Anda berhasil memecahkan misteri level ${i}.`,
                failure: `Sayang sekali, Anda belum berhasil memecahkan misteri level ${i}. Coba lagi!`,
                hints: [
                    "Perhatikan detail kecil dalam cerita",
                    "Gunakan petunjuk yang diberikan",
                    "Analisis semua opsi dengan cermat sebelum memilih"
                ]
            });
        }

        // Variabel game
        let currentLevelIndex = 0;
        let score = 0;
        let lives = 3;
        let timer;
        let timeLeft;
        const maxLevel = levels.length;

        // Elemen DOM
        const currentLevelElement = document.getElementById('currentLevel');
        const scoreElement = document.getElementById('score');
        const levelProgressElement = document.getElementById('levelProgress');
        const progressPercentageElement = document.getElementById('progressPercentage');
        const characterElement = document.getElementById('character');
        const storyElement = document.getElementById('story');
        const clueElement = document.getElementById('clue');
        const choicesElement = document.getElementById('choices');
        const themeToggle = document.getElementById('themeToggle');
        const levelDifficultyElement = document.getElementById('levelDifficulty');
        const resultMessageElement = document.getElementById('resultMessage');
        const timerElement = document.getElementById('timer');
        const livesElement = document.getElementById('lives');
        const detectiveCard = document.getElementById('detectiveCard');
        const toggleCardBtn = document.getElementById('toggleCardBtn');
        const cardLevelElement = document.getElementById('cardLevel');
        const agentNameElement = document.getElementById('agentName');
        const agentCodeElement = document.getElementById('agentCode');
        const nameModal = document.getElementById('nameModal');
        const agentNameInput = document.getElementById('agentNameInput');
        const startButton = document.getElementById('startButton');
        const saveIndicator = document.getElementById('saveIndicator');

        // Fungsi untuk menyimpan progress
        function saveProgress() {
            const gameData = {
                agentName: agentNameElement.textContent,
                agentCode: agentCodeElement.textContent,
                currentLevel: currentLevelIndex,
                score: score,
                lives: lives
            };
            
            localStorage.setItem('detectiveGameData', JSON.stringify(gameData));
            
            // Tampilkan indikator save
            saveIndicator.classList.add('show');
            setTimeout(() => {
                saveIndicator.classList.remove('show');
            }, 2000);
        }

        // Fungsi untuk memuat progress
        function loadProgress() {
            const savedData = localStorage.getItem('detectiveGameData');
            if (savedData) {
                const gameData = JSON.parse(savedData);
                
                // Isi data yang disimpan
                agentNameElement.textContent = gameData.agentName;
                agentCodeElement.textContent = gameData.agentCode;
                currentLevelIndex = gameData.currentLevel;
                score = gameData.score;
                lives = gameData.lives;
                
                // Update tampilan
                scoreElement.textContent = score;
                updateLivesDisplay();
                
                return true;
            }
            return false;
        }

        // Generate ID acak untuk detektif
        function generateAgentId() {
            return Math.floor(1000 + Math.random() * 9000);
        }

        // Event listener untuk tombol mulai
        startButton.addEventListener('click', function() {
            const agentName = agentNameInput.value.trim();
            if (agentName) {
                // Set nama agen
                agentNameElement.textContent = agentName;
                
                // Set ID acak
                agentCodeElement.textContent = generateAgentId();
                
                // Sembunyikan modal
                nameModal.style.display = 'none';
                
                // Coba muat progress yang disimpan
                if (!loadProgress()) {
                    // Jika tidak ada progress yang disimpan, mulai dari awal
                    currentLevelIndex = 0;
                    score = 0;
                    lives = 3;
                }
                
                // Mulai game
                loadLevel(currentLevelIndex);
                
                // Simpan progress
                saveProgress();
            } else {
                alert('Silakan masukkan nama detektif Anda!');
            }
        });

        // Event listener untuk tombol enter pada input
        agentNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startButton.click();
            }
        });

        // Toggle kartu detektif
        toggleCardBtn.addEventListener('click', function() {
            detectiveCard.classList.toggle('card-minimized');
            if (detectiveCard.classList.contains('card-minimized')) {
                toggleCardBtn.innerHTML = '<i class="fas fa-id-card"></i>';
            } else {
                toggleCardBtn.innerHTML = '<i class="fas fa-times"></i>';
            }
        });

        // Fungsi untuk memuat level
        function loadLevel(levelIndex) {
            if (levelIndex >= maxLevel) {
                // Game selesai
                clearInterval(timer);
                storyElement.textContent = "Selamat! Anda telah menyelesaikan semua 100 level. Anda sekarang adalah Detektif Master! Terima kasih telah bermain!";
                characterElement.textContent = "🏆";
                choicesElement.innerHTML = "";
                resultMessageElement.style.display = "none";
                document.querySelector('.clue-container').style.display = "none";
                document.querySelector('.hint-btn').style.display = "none";
                
                // Hapus data yang disimpan karena game selesai
                localStorage.removeItem('detectiveGameData');
                return;
            }

            const level = levels[levelIndex];
            currentLevelElement.textContent = level.level;
            characterElement.textContent = level.character;
            storyElement.textContent = level.story;
            clueElement.textContent = level.clue;
            levelDifficultyElement.textContent = level.difficulty;
            cardLevelElement.textContent = level.level;
            
            // Update progress bar
            const progressPercentage = (level.level / 100) * 100;
            levelProgressElement.style.width = `${progressPercentage}%`;
            progressPercentageElement.textContent = `${progressPercentage}%`;
            
            // Kosongkan pilihan sebelumnya
            choicesElement.innerHTML = "";
            
            // Tambahkan pilihan baru
            level.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                
                // Icon berbeda untuk setiap pilihan
                const icons = ['fa-search', 'fa-user', 'fa-clue', 'fa-microscope'];
                button.innerHTML = `<i class="fas ${icons[index]}"></i> ${choice}`;
                
                button.onclick = () => makeChoice(index);
                choicesElement.appendChild(button);
            });

            // Sembunyikan pesan hasil
            resultMessageElement.style.display = "none";
            
            // Reset dan mulai timer
            clearInterval(timer);
            timeLeft = level.time;
            timerElement.textContent = timeLeft;
            startTimer();
            
            // Update lives display
            updateLivesDisplay();
            
            // Simpan progress
            saveProgress();
        }

        // Fungsi untuk memulai timer
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    handleTimeOut();
                }
            }, 1000);
        }

        // Fungsi ketika waktu habis
        function handleTimeOut() {
            lives--;
            updateLivesDisplay();
            
            if (lives <= 0) {
                resultMessageElement.textContent = "Waktu habis! Nyawa Anda juga habis. Game Over!";
                resultMessageElement.className = "result-message failure";
                resultMessageElement.style.display = "block";
                
                setTimeout(() => {
                    // Kembali ke level terakhir yang berhasil diselesaikan
                    currentLevelIndex = Math.max(0, currentLevelIndex - 1);
                    lives = 3;
                    loadLevel(currentLevelIndex);
                }, 3000);
            } else {
                resultMessageElement.textContent = "Waktu habis! Anda kehilangan satu nyawa.";
                resultMessageElement.className = "result-message failure";
                resultMessageElement.style.display = "block";
                
                setTimeout(() => {
                    loadLevel(currentLevelIndex);
                }, 3000);
            }
            
            // Simpan progress
            saveProgress();
        }

        // Fungsi untuk memperbarui tampilan nyawa
        function updateLivesDisplay() {
            let livesText = "";
            for (let i = 0; i < 3; i++) {
                livesText += i < lives ? "❤️" : "🤍";
            }
            livesElement.textContent = livesText;
        }

        // Fungsi untuk menampilkan petunjuk
        function showHint() {
            if (score >= 5) {
                score -= 5;
                scoreElement.textContent = score;
                
                const currentLevel = levels[currentLevelIndex];
                const randomHint = currentLevel.hints[Math.floor(Math.random() * currentLevel.hints.length)];
                
                alert(`Petunjuk: ${randomHint}`);
                
                // Simpan progress
                saveProgress();
            } else {
                alert("Skor Anda tidak cukup untuk mendapatkan petunjuk! Anda membutuhkan setidaknya 5 poin.");
            }
        }

        // Fungsi untuk membuat pilihan
        function makeChoice(choiceIndex) {
            clearInterval(timer);
            
            const currentLevel = levels[currentLevelIndex];
            
            if (choiceIndex === currentLevel.correctChoice) {
                // Jawaban benar
                const timeBonus = Math.floor(timeLeft / 2);
                score += 10 + timeBonus;
                scoreElement.textContent = score;
                
                // Tampilkan pesan sukses
                resultMessageElement.textContent = `${currentLevel.success} Bonus waktu: +${timeBonus} poin!`;
                resultMessageElement.className = "result-message success";
                resultMessageElement.style.display = "block";
                
                // Set timeout untuk pindah ke level berikutnya
                setTimeout(() => {
                    currentLevelIndex++;
                    loadLevel(currentLevelIndex);
                }, 4000);
            } else {
                // Jawaban salah
                score = Math.max(0, score - 5);
                scoreElement.textContent = score;
                lives--;
                updateLivesDisplay();
                
                if (lives <= 0) {
                    // Game over
                    resultMessageElement.textContent = "Pilihan salah! Nyawa Anda habis. Kembali ke level sebelumnya.";
                    resultMessageElement.className = "result-message failure";
                    resultMessageElement.style.display = "block";
                    
                    setTimeout(() => {
                        // Kembali ke level terakhir yang berhasil diselesaikan
                        currentLevelIndex = Math.max(0, currentLevelIndex - 1);
                        lives = 3;
                        loadLevel(currentLevelIndex);
                    }, 3000);
                } else {
                    // Masih ada nyawa
                    resultMessageElement.textContent = `${currentLevel.failure} Anda kehilangan 1 nyawa.`;
                    resultMessageElement.className = "result-message failure";
                    resultMessageElement.style.display = "block";
                    
                    // Set timeout untuk mencoba lagi
                    setTimeout(() => {
                        loadLevel(currentLevelIndex);
                    }, 3000);
                }
            }
            
            // Simpan progress
            saveProgress();
        }

        // Toggle mode gelap/terang
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<span>Mode Terang</span> <i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<span>Mode Gelap</span> <i class="fas fa-moon"></i>';
            }
            
            // Simpan preferensi tema
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        });

        // Muat preferensi tema
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            themeToggle.innerHTML = '<span>Mode Terang</span> <i class="fas fa-sun"></i>';
        }

        // Coba muat progress saat halaman dimuat
        window.addEventListener('load', function() {
            if (loadProgress()) {
                // Jika ada progress yang disimpan, langsung muat level
                nameModal.style.display = 'none';
                loadLevel(currentLevelIndex);
            }
        });
    </script>
</body>
</html>
